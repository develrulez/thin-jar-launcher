language: java

jdk:
  - oraclejdk8

cache:
  directories:
    - "$HOME/.m2"

before_install:
  - if [ ! -z "$GPG_SECRET_KEYS" ]; then echo $GPG_SECRET_KEYS | base64 --decode | $GPG_EXECUTABLE --import; fi
  - if [ ! -z "$GPG_OWNERTRUST" ]; then echo $GPG_OWNERTRUST | base64 --decode | $GPG_EXECUTABLE --import-ownertrust; fi

install:
  - ./mvnw --settings .travis/settings.xml install -B -V

script:
  - ./mvnw --settings .travis/settings.xml clean deploy -B -V -Prun-its,code-coverage,sonatype-oss-release

after_success:
  - bash <(curl -s https://codecov.io/bash)

notifications:
  email:
    - develrulez@gmail.com
